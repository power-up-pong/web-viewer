<html>
  <head>
    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/paho-mqtt/1.1.0/paho-mqtt.js"
      type="text/javascript"
    ></script>
    <meta charset="utf-8" />
  </head>
  <body>
    <h2>CS300 Lab: Raspberry Pi Web of Things</h2>
    <script>
      client = new Paho.Client(
        (host = "mqtt.eclipseprojects.io/mqtt"),
        (port = 80),
        (clientId = "clientjs")
      );
      client.onMessageArrived = onMessageArrived;
      var options = {
        useSSL: false,
        keepAliveInterval: 60,
        onSuccess: onConnect,
      };
      client.connect(options);
      function onConnect() {
        console.log("Connected!");
        client.subscribe("cs326/message");
      }
      function onMessageArrived(message) {
        console.log("Message Arrived:" + message.payloadString);
        document.getElementById("msg").innerHTML = message.payloadString;
      }
    </script>
    <hr />
    MQTT payload: <span id="msg"></span>.
  </body>
</html>
